# courses/management/commands/load_cognitive_test.py
from django.core.management.base import BaseCommand
from courses.models import CognitiveTest

class Command(BaseCommand):
    help = 'Load cognitive test questions into database'
    
    def handle(self, *args, **options):
        questions_data = [
            # Раздел 1: Стиль обучения (1-6)
            (1, 'learning_style', 'Когда вы изучаете новую тему, вам проще понять материал, если:',
             'есть иллюстрации или схемы', 'кто-то объясняет устно', 'вы записываете конспект', 'вы пробуете что-то сделать сами'),
            
            (2, 'learning_style', 'Когда вы вспоминаете, как дойти до места, вы ориентируетесь по:',
             'карте или визуальному образу', 'рассказу или объяснению другого человека', 'заметкам с указанием направлений', 'памяти о собственных действиях'),
            
            (3, 'learning_style', 'На лекции вы лучше усваиваете, если:',
             'преподаватель показывает слайды', 'объясняет вслух', 'даёт раздаточный материал', 'разрешает выполнять практику'),
            
            (4, 'learning_style', 'Вы быстрее учитесь, когда:',
             'видите примеры', 'слышите объяснение', 'читаете инструкции', 'пробуете сами'),
            
            (5, 'learning_style', 'Если нужно запомнить новый термин, вы:',
             'представляете, как он выглядит', 'повторяете его вслух', 'записываете его несколько раз', 'связываете его с движением или действием'),
            
            (6, 'learning_style', 'При просмотре видеоурока вы чаще:',
             'обращаете внимание на изображения', 'слушаете голос', 'читаете субтитры', 'пробуете повторить действия'),
            
            # Раздел 2: Память (7-12)
            (7, 'memory', 'Вы легко запоминаете длинные списки слов?',
             'всегда', 'часто', 'редко', 'почти никогда'),
            
            (8, 'memory', 'Вам легко вспомнить, что вы делали неделю назад?',
             'да, в деталях', 'в общих чертах', 'только после подсказки', 'затрудняюсь'),
            
            (9, 'memory', 'После прочтения текста вы обычно помните:',
             'почти всё', 'основные идеи', 'немного', 'почти ничего'),
            
            (10, 'memory', 'Если вы изучаете новый язык, слова запоминаются вам:',
             'очень легко', 'с умеренными усилиями', 'с трудом', 'очень тяжело'),
            
            (11, 'memory', 'Когда вы слышите цифры или факты, вы:',
             'запоминаете сразу', 'иногда запоминаете', 'быстро забываете', 'не запоминаете вообще'),
            
            (12, 'memory', 'Ваша способность вспоминать детали из фильмов или книг:',
             'отличная', 'хорошая', 'средняя', 'слабая'),
            
            # Раздел 3: Самодисциплина (13-18)
            (13, 'discipline', 'Если у вас нет настроения учиться, вы всё равно садитесь за работу?',
             'всегда', 'чаще всего', 'иногда', 'нет'),
            
            (14, 'discipline', 'Вы способны заниматься без напоминаний и дедлайнов?',
             'да', 'иногда', 'редко', 'нет'),
            
            (15, 'discipline', 'Если задание сложное, вы:',
             'разбиваете его на части и делаете постепенно', 'откладываете, но всё же делаете', 'ждёте вдохновения', 'бросаете'),
            
            (16, 'discipline', 'Когда вы учитесь, вас легко отвлечь?',
             'нет', 'редко', 'часто', 'постоянно'),
            
            (17, 'discipline', 'Вы придерживаетесь расписания обучения?',
             'да, строго', 'стараюсь', 'не всегда', 'нет'),
            
            (18, 'discipline', 'Вы чувствуете удовлетворение, когда выполняете поставленную цель?',
             'всегда', 'часто', 'редко', 'нет'),
        ]
        
        for q_num, section, question, a, b, c, d in questions_data:
            CognitiveTest.objects.update_or_create(
                section=section,
                question_number=q_num,
                defaults={
                    'question_text': question,
                    'option_a': a,
                    'option_b': b,
                    'option_c': c,
                    'option_d': d
                }
            )
        
        self.stdout.write(self.style.SUCCESS('✅ Вопросы когнитивного теста успешно загружены!'))